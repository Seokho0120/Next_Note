## Next.js?

- 리액트를 베이스로한 프레임워크
- 리액트로 웹앱을 개발하는데 리액트만으로는 힘든 +많은 것들을 가능하게 해줌

#### 라이브러리 vs 프레임워크

라이브러리

- 우리가 무언가를 만들때 유용한 툴
- 특정한 문제를 해결하기 위해 필요한것만 골라 쓰기(UI, State Management, Routing)
- React는 UI를 만들기 위한 라이브러리

프레임워크

- 특정한 아주 작은 단위의 문제를 해결하는게 아니라 큰 단위의 솔루션을 제공
- 큰 골격을 제공하고, 그 정해진 골격안에 우리가 원하는 로직을 구현하면됨(UI, State Management, Routing, HTTP Clients)

## Next.js의 History

- Vercel이라는 회사에서 2016년에 처음 등장
- 6가지의 원칙 기반으로 2022년에 새로나온 13버전에 유용하고 새로운 기능들이 상당히 추가됨

#### Learning Point of Next.js

- Next.js를 쓰는 이유 -> 리액트만으로 힘들기때문에 많은 것을 가능하게 해줌 그렇다면!
- 리액트의 한계점을 정리
- Next.js가 어떤것들을, 어떻게, 왜 정리

## CSR

Client Side Rendering

- 렌더링하는 주체자가 클라이언트 -> **브라우저**

#### 장점

- 한번 로딩되면, 빠른 UX제공
- 서버의 부하가 작음

#### 단점

- 페이지 로딩 시간(TTV)이 길다 = TTV(Time to view) = FCP(First Contentful Paint)
- 자바스크립트 활성화 필수임
- SEO 최적화가 힘듬
- 보안에 취약함
- CDN에 캐시가 안됨, 어려움
  - CDN(Content Delivery Network)
    - 사용자에 근접한 나라에서 데이터 가져옴

#### 정리

- 리액트라는 UI라이브러리만을 사용해 웹어플리케이션을 만들면 CSR이 발생한다.
- CSR이란 브라우저에 표기하기 위한 모든 코드들을 전부 Client측에서 전부 다운받아서 Client측에서 코드를 실행하고 분석해서 표기하는것을 말한다.
- 한번 로딩되면, 빠른 UX제공하고 서버의 부하가 적은 장점이 있다.
- 하지만 사용자가 첫 화면을 보기까지 오래 걸리고, 자바스크립트 활성화가 필수이며, SEO최적화가 힘들고, 보안에 취약, CDN에 캐시가 힘들다.
- CSR 즉, 리액트 라이브러리의 문제를 해결하기 위해 나온게 Next.js 프레임워크이다.
- Next.js를 사용하면 SSG, SSR을 사용할 수 있는데 CSR의 문제점을 보완 및 해결할 수 있다.

## SSG

Static Site Generation(정적인 사이트를 만드는것!)

- 렌더링하는 주체자 -> **서버**
- 어플리케이션을 서버에 배포해서 처음 **빌드할때 렌더링됨**
- 서버에서 렌더링이 되긴 하는데, **언제 렌더링**을 하냐에 따라서 SSR인지 SSG인지 결정됨

#### 순서 및 특징

- 우리 서버에 Nextjs 어플리케이션을 배포해서 우리 웹 어플리케이션을 실행하기 전에 먼저 빌드를함
- 빌드를 할때 서버에서 우리가 작성한 코드를 실행하면서 리액트 코드를 HTML로 렌더링(변환)함
- 코드에서 서버에있는 데이터베이스를 읽거나, 클라우드 데이터베이스에서 데이터를 읽어와서 페이지를 만든다면 이 모든것들이 빌드할때 실행
- 이 과정을 거쳐서 실제 HTML파일들을 빌드할때 만들어둠
- Client가 서버에 요청을하면 서버는 미리 만들어진 HTML을 Client에 전달함
- 그럼 Client는 HTML을 보여주기만하면됨
- HTML 파일들을 서버에서 미리 만들어놔서 HTML받아오기 때문에 다음에 사용자가 홈페이지에 접속하면 서버까지 가지 않아도, CDN에 캐시된 HTML파일을 빠르게 가져올 수 있음

#### 장점

- 페이지 로딩 시간(TTV)이 빠름 (미리 만들어둔 HTML만 받으면 되니까)
- 자바스크립트 필요 없음
- SEO최적화가 좋음
- 보안이 뛰어남
- CDN에 캐시가 됨

#### 단점

- 빌드할때 렌더링이 되기 떄문에 데이터가 정적임
- 사용자별 정보 제공의 어려움
- 데이터가 정적인, 잘 바뀌지 않은 웹사이트만 적절함

## ISR

Incremental Static Regeneration

- 렌더링하는 주체자 -> **서버**
- 설정한 주기만큼 주기적으로 **렌더링**
- 정해진 주기에 따라 페이지를 다시 생성함

#### 장점

- 페이지 로딩 시간(TTV)이 빠름 (미리 만들어둔 HTML만 받으면 되니까)
- 자바스크립트 필요 없음
- SEO최적화가 좋음
- 보안이 뛰어남
- CDN에 캐시가 됨
- **데이터가 주기적으로 업데이트됨**

#### 단점

- 실시간 데이터가 아님
- 사용자별 정보 제공의 어려움

이러한 문제점을 해결하기 위해 나온게 **SSR**
